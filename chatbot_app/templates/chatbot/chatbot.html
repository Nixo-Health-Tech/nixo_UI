{% extends "base.html" %}
{% load static %}
{% block title %}دستیار سلامت{% endblock %}

{% block content %}
<article class="page page--rtl chat-page" aria-labelledby="chat-title">
  <header class="page-header">
    <p class="page-kicker">چت‌بات</p>
    <h1 id="chat-title" class="page-title">دستیار سلامت</h1>
    <p class="page-intro">پاسخ‌ها صرفاً آموزشی هستند و جایگزین نظر پزشک نیستند.</p>
  </header>

  <section class="card card--soft" aria-label="تنظیمات گفتگو">
    <form id="chat-config" class="chat-config" onsubmit="return false;">
      <div class="field">
        <label for="model">مدل:</label>
        <select id="model" name="model" aria-label="انتخاب مدل">
          <option value="">پیش‌فرض</option>
        </select>
      </div>

      <div class="field">
        <label for="use_rag">منبع دانش:</label>
        <select id="use_rag" name="use_rag" aria-label="انتخاب منبع دانش">
          <option value="on">مستندات من/عمومی</option>
          <option value="off">بدون جستجو</option>
        </select>
      </div>
    </form>
  </section>

  <section id="chat-window" class="card chat-window" aria-live="polite" aria-relevant="additions" role="log">
    <div id="messages" class="chat-messages"></div>
  </section>

  <section class="card card--outline" aria-label="ارسال پیام">
    <form id="chat-form" class="chat-form" onsubmit="return false;">
      <label class="sr-only" for="message">پیام</label>
      <textarea id="message" rows="3" placeholder="سؤال خود را بنویسید…"></textarea>

      <div class="chat-actions">
        <button id="send" class="btn-solid-reg" type="button">ارسال</button>
        <button id="stop" class="btn-outline-sm" type="button">توقف</button>
      </div>
    </form>
  </section>

</article>

<script src="{% static 'js/chat.js' %}"></script>
{% endblock %}
